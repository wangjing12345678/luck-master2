(window["webpackJsonpaaa"]=window["webpackJsonpaaa"]||[]).push([["chunk-2d238457"],{ff56:function(e,r,t){"use strict";t.r(r);var l=function(){var e=this,r=e._self._c;return r("div",[r("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(r){e.activeName=r},expression:"activeName"}},[r("el-tab-pane",{attrs:{label:"合同详情",name:"first"}},[r("el-tabs",{on:{"tab-click":e.handleClick2},model:{value:e.jjj,callback:function(r){e.jjj=r},expression:"jjj"}},[r("el-tab-pane",{attrs:{label:"基本信息",name:"first"}}),r("el-tab-pane",{attrs:{label:"配置管理",name:"second"}})],1),r("div",[r("el-row",[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px",rules:e.rules}},[r("form1",{directives:[{name:"show",rawName:"v-show",value:"first"==e.jjj,expression:"jjj == 'first'"}],attrs:{form:e.form}}),r("form2",{directives:[{name:"show",rawName:"v-show",value:"second"==e.jjj,expression:"jjj == 'second'"}],attrs:{form:e.form}}),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存")]),r("el-button",[e._v("取消")])],1)],1)],1)]),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-light"},e._l(e.showRightArr,(function(t){return r("div",{key:t.id},[e._v(" "+e._s(t.name)+" "+e._s(t.errorArr.length)+" ")])})),0)])],1)],1)],1),r("el-tab-pane",{attrs:{label:"配置管理",name:"second"}},[e._v("配置管理")]),r("el-tab-pane",{attrs:{label:"角色管理",name:"third"}},[e._v("角色管理")]),r("el-tab-pane",{attrs:{label:"定时任务补偿",name:"fourth"}},[e._v("定时任务补偿")])],1)],1)},o=[],a=(t("14d9"),function(){var e=this,r=e._self._c;return r("div",[e._v("sss")])}),s=[],i={},n=i,c=t("2877"),u=Object(c["a"])(n,a,s,!1,null,null,null),m=(u.exports,function(){var e=this,r=e._self._c;return r("div",[r("el-form-item",{attrs:{label:"活动名称",prop:"name"}},[r("el-input",{model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),e.form.name?r("el-form-item",{attrs:{label:"活动区域",prop:"region"}},[r("el-select",{attrs:{placeholder:"请选择活动区域"},model:{value:e.form.region,callback:function(r){e.$set(e.form,"region",r)},expression:"form.region"}},[r("el-option",{attrs:{label:"区域一",value:"shanghai"}}),r("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1):e._e(),e._e(),r("el-form-item",{attrs:{label:"即时配送",prop:"delivery"}},[r("el-cascader",{attrs:{props:e.props,options:[{id:1,label:"ooo",value:"1"},{id:2,label:"fff",value:"2"}]},model:{value:e.form.delivery,callback:function(r){e.$set(e.form,"delivery",r)},expression:"form.delivery"}})],1),r("el-form-item",{attrs:{label:"活动性质",prop:"type"}},[r("el-checkbox-group",{model:{value:e.form.type,callback:function(r){e.$set(e.form,"type",r)},expression:"form.type"}},[r("el-checkbox",{attrs:{label:"美食/餐厅线上活动",name:"type"}}),r("el-checkbox",{attrs:{label:"地推活动",name:"type"}}),r("el-checkbox",{attrs:{label:"线下主题活动",name:"type"}}),r("el-checkbox",{attrs:{label:"单纯品牌曝光",name:"type"}})],1)],1),r("el-form-item",{attrs:{label:"特殊资源",prop:"resource"}},[r("el-radio-group",{model:{value:e.form.resource,callback:function(r){e.$set(e.form,"resource",r)},expression:"form.resource"}},[r("el-radio",{attrs:{label:"线上品牌商赞助"}}),r("el-radio",{attrs:{label:"线下场地免费"}})],1)],1),r("el-form-item",{attrs:{label:"活动形式",prop:"desc"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.desc,callback:function(r){e.$set(e.form,"desc",r)},expression:"form.desc"}})],1)],1)}),d=[],p={props:{form:{}},data(){let e=this;return{props:{lazy:!0,lazyLoad(r,t){const{level:l}=r;if(1==r.data.id)setTimeout(()=>{const e=[{value:"2",label:"选项3",leaf:!0}];document.querySelectorAll(".el-cascader-menu")[1]&&(document.querySelectorAll(".el-cascader-menu")[1].style.display="block"),t(e)},1e3);else{console.log(r.label),setTimeout(()=>{e.$nextTick(()=>{document.querySelectorAll(".el-cascader-node__label").forEach(t=>{console.log(t.innerHTML),t.innerHTML==r.label&&(console.log(t.parentNode),t.parentNode.addEventListener("click",e.clsdh),t.parentNode.dispatchEvent(new Event("click")))})})},2e3),t([])}}}}},methods:{clsdh(){console.log("fgrgg")}}},f=p,b=Object(c["a"])(f,m,d,!1,null,null,null),h=b.exports,g=function(){var e=this,r=e._self._c;return r("div",[r("el-form-item",{attrs:{label:"aaa",prop:"aaa"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.aaa,callback:function(r){e.$set(e.form,"aaa",r)},expression:"form.aaa"}})],1),r("el-form-item",{attrs:{label:"bbb",prop:"bbb"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.form.bbb,callback:function(r){e.$set(e.form,"bbb",r)},expression:"form.bbb"}})],1)],1)},v=[],y={props:{form:{}}},q=y,k=Object(c["a"])(q,g,v,!1,null,null,null),j=k.exports,x={components:{form1:h,form2:j},data(){return{activeName:"first",jjj:"first",form:{name:"",region:"",date1:"",date2:"",delivery:!1,type:[],resource:"",desc:"",aaa:"",bbb:""},moduleArr:[{name:"基本信息",id:"basic",num:0,errorArr:[]},{name:"配置管理",id:"peizhi",num:0,errorArr:[]}],rulesConfig:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"},{customRequiredProp:"name",module:"basic"}],region:[{required:!0,message:"请输入活动名称",trigger:"blur"},{customRequiredProp:"region",customRequiredPropType:"length",module:"basic"}],delivery:[{required:!0,message:"请输入活动名称",trigger:"blur"},{customRequiredProp:"delivery",module:"basic"}],type:[{required:!0,message:"请输入活动名称",trigger:"change"},{customRequiredProp:"type",customRequiredPropType:"length",module:"basic"}],aaa:[{required:!0,message:"请输入活动名称",trigger:"blur"},{customRequiredProp:"aaa",module:"peizhi"}],bbb:[{required:!0,message:"请输入活动名称",trigger:"blur"},{customRequiredProp:"bbb",module:"peizhi"}]},requiredError:[]}},computed:{showRightArr(){const e=JSON.parse(JSON.stringify(this.moduleArr));return e.forEach(e=>{this.requiredError.forEach(r=>{e.id==r.module&&e.errorArr.push(r)})}),e},rules(){let e={};const r=JSON.parse(JSON.stringify(this.rulesConfig));for(let t in r){this.$set(e,t,[]);for(let l=0;l<r[t].length;l++)r[t][l].customRequiredProp||e[t].push(r[t][l])}return e}},watch:{form:{handler(e){this.$nextTick(()=>{const e=this.$refs.form.fields.map(e=>e.prop),r=[];for(let t in this.rules)this.rulesConfig[t].forEach(l=>{l.customRequiredProp&&e.includes(t)&&r.push(l)});this.checkRequired(r)})},deep:!0,immediate:!0}},methods:{checkRequired(e){e.forEach(e=>{let r=!1;"length"==e.customRequiredPropType?this.form[e.customRequiredProp].length<=0&&(r=!0):""===this.form[e.customRequiredProp]&&(r=!0),r?this.requiredError.findIndex(r=>r.customRequiredProp==e.customRequiredProp)<0&&this.requiredError.push(e):this.requiredError=this.requiredError.filter(r=>r.customRequiredProp!=e.customRequiredProp)})},handleClick(){},handleClick2(){},onSubmit(){this.$refs.form.validate(e=>{if(!e)return console.log("error submit!!"),!1;alert("submit!")}),console.log(this.form)}}},_=x,R=Object(c["a"])(_,l,o,!1,null,null,null);r["default"]=R.exports}}]);