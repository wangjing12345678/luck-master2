(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-46b07f58"],{"0ea5":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"box"},[r("div",{staticClass:"trangle",on:{click:t.reset}},[t._v("重置")]),t.luckArr.length?r("div",{staticClass:"cricle-content"},[r("Turntable",{ref:"circle",attrs:{luckArr:t.luckArr},on:{resultNotice:t.resultNotice}}),r("div",{staticClass:"start-button",on:{click:t.start}},[t._m(0)])],1):t._e()])},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"start-button-area"},[n("img",{attrs:{src:r("1d42"),alt:""}})])}],a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"circle"},[r("div",{ref:"rotate-content",staticClass:"circle-in",class:t.currState,attrs:{id:t.elId},on:{transitionend:t._transEnd,webkitTransitionEnd:t._transEnd}},[r("div",{staticClass:"circle-white"},[t._l(t.luckArr,(function(e,n){return r("div",{key:n,staticClass:"prize-content"},[r("div",{staticClass:"prize-content-word"},[t._v(t._s(e.itemname))])])})),t._l(t.luckArr,(function(t,e){return r("div",{staticClass:"prize",style:{background:e%2==0?"#fff":"rgb(251,201,142)"}})}))],2)])])])},o=[],c=(r("99af"),r("7db0"),r("4160"),r("159b"),{STATIC:"static",BRAKE:"brake",STOP:"stop"}),s={name:"turntable",props:["luckArr"],data:function(){return{el:null,elId:0,currState:c.STATIC,deg:0,flag:0,degArr:[],randomDeg:"",errorDeg:10,luckNum:"",waitDeg:0,waitTime:"",waitState:!1,timeOut:!1}},computed:{degNum:function(){return this.luckArr.length}},created:function(){this.elId="__roulette_".concat(this._uid,"_").concat((new Date).getTime())},mounted:function(){this.el=document.getElementById(this.elId);var t=this;this.$nextTick((function(){document.querySelectorAll(".prize").forEach((function(e,r){var n=90-360/t.degNum/2;e.style.transform=0==r?"rotate("+n+"deg)skewX("+(90-360/t.degNum)+"deg)":"rotate("+(n+360/t.degNum*r)+"deg)skewX("+(90-360/t.degNum)+"deg)"})),document.querySelectorAll(".prize-content").forEach((function(e,r){var n=90-360/t.degNum/2;e.style.transform=0==r?"rotate("+n+"deg)":"rotate("+(n+360/t.degNum*r)+"deg)"}))})),this.calcDeg()},methods:{play:function(){var t=this;this.currState==c.STATIC||this.currState==c.STOP?(this.setDeg(),setTimeout((function(){t.luckNum=5,t.waitState=!0}),1e3)):console.log("旋转不可点击")},setDeg:function(){var t=this;this.waitDeg=0;var e=0;this.waitTime=setInterval((function(){if(t.waitDeg<9e3?t.timeOut=!1:t.timeOut=!0,e+=1,t.waitState&&t.timeOut){t.calcRandomDeg(),t.flag=360-t.waitDeg%360+t.waitDeg;var r=0;if(1==t.luckNum){var n=Math.floor(2*Math.random());r=t.randomDeg[n]}else r=t.randomDeg;t.waitDeg=t.flag+-r}else t.waitDeg=20*e;t.el.style.cssText="-webkit-transform:rotate(".concat(t.waitDeg,"deg);\n               -webkit-transition-duration:",5,"s;\n\t\t\t  transform:rotate(").concat(t.waitDeg,"deg);\n\t\t\t  transition-duration:",5,"s"),t.waitState&&t.timeOut&&(t.currState=c.BRAKE,clearInterval(t.waitTime))}),20)},calcRandomDeg:function(){var t=this,e=this.degArr.find((function(e){return e.id==t.luckNum}));if(1==this.luckNum){var r=Math.floor(Math.random()*(e.range1[1]-e.range1[0]+1))+e.range1[0],n=Math.floor(Math.random()*(e.range2[1]-e.range2[0]+1))+e.range2[0];this.randomDeg=[r,n]}else this.randomDeg=Math.floor(Math.random()*(e.range1[1]-e.range1[0]+1))+e.range1[0]},calcDeg:function(){for(var t=360/this.degNum,e=0;e<this.luckArr.length;e++)if(0==e){var r=360-t/2,n=t/2,i=[0+this.errorDeg,n-this.errorDeg],a=[r+this.errorDeg,360-this.errorDeg],o={id:this.luckArr[e].id,range1:i,range2:a};this.degArr.push(o)}else{i=[t/2+t*(e-1)+this.errorDeg,t/2+t*e-this.errorDeg],o={id:this.luckArr[e].id,range1:i};this.degArr.push(o)}console.log(this.degArr)},reset:function(){this.currState=c.STATIC,this.deg=0,this.flag=0,this.randomDeg="",this.waitTime=null,this.waitDeg=0,this.waitState=!1,this.timeOut=!1,this.el.style.cssText="-webkit-transform:rotate(".concat(this.deg,"deg);\n\t\t\t\t\t\t\t-webkit-transition-duration:0s;\n\t\t\t\t\t\t\ttransform:rotate(").concat(this.deg,"deg);\n\t\t\t\t\t\t\ttransition-duration:0s")},_transEnd:function(){this.currState==c.BRAKE&&(this.currState=c.STOP),this.$emit("resultNotice")}}},u=s,l=(r("5e7c"),r("2877")),f=Object(l["a"])(u,a,o,!1,null,"194f57cc",null),d=f.exports,h={name:"raffle",data:function(){return{luckArr:[{id:"1",itemname:"一等奖"},{id:"2",itemname:"二等奖"},{id:"3",itemname:"三等奖"},{id:"4",itemname:"四等奖"},{id:"5",itemname:"五等奖"},{id:"6",itemname:"未中奖"},{id:"7",itemname:"六等奖"},{id:"8",itemname:"七等奖"}]}},components:{Turntable:d},mounted:function(){},methods:{sortdown:function(t){for(var e=0;e<t.length-1;e++)for(var r=0;r<t.length-1-e;r++)if(t[r].itemnum<t[r+1].itemnum){var n=t[r];t[r]=t[r+1],t[r+1]=n}return t},start:function(){"static"!=this.$refs.circle.currState&&"stop"!=this.$refs.circle.currState||this.$refs.circle.play()},reset:function(){this.$refs.circle.reset()},resultNotice:function(){console.log("结束")}}},g=h,m=(r("a89a"),Object(l["a"])(g,n,i,!1,null,"1bd0b71c",null));e["default"]=m.exports},"159b":function(t,e,r){var n=r("da84"),i=r("fdbc"),a=r("17c2"),o=r("9112");for(var c in i){var s=n[c],u=s&&s.prototype;if(u&&u.forEach!==a)try{o(u,"forEach",a)}catch(l){u.forEach=a}}},"17c2":function(t,e,r){"use strict";var n=r("b727").forEach,i=r("a640"),a=r("ae40"),o=i("forEach"),c=a("forEach");t.exports=o&&c?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1d42":function(t,e,r){t.exports=r.p+"static/img/button.78ec7584.png"},"1dde":function(t,e,r){var n=r("d039"),i=r("b622"),a=r("2d00"),o=i("species");t.exports=function(t){return a>=51||!n((function(){var e=[],r=e.constructor={};return r[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},3653:function(t,e,r){},4160:function(t,e,r){"use strict";var n=r("23e7"),i=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"5e7c":function(t,e,r){"use strict";var n=r("3653"),i=r.n(n);i.a},"65f0":function(t,e,r){var n=r("861d"),i=r("e8b5"),a=r("b622"),o=a("species");t.exports=function(t,e){var r;return i(t)&&(r=t.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?n(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===e?0:e)}},"7db0":function(t,e,r){"use strict";var n=r("23e7"),i=r("b727").find,a=r("44d2"),o=r("ae40"),c="find",s=!0,u=o(c);c in[]&&Array(1)[c]((function(){s=!1})),n({target:"Array",proto:!0,forced:s||!u},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a(c)},8418:function(t,e,r){"use strict";var n=r("c04e"),i=r("9bf2"),a=r("5c6c");t.exports=function(t,e,r){var o=n(e);o in t?i.f(t,o,a(0,r)):t[o]=r}},8517:function(t,e,r){},"99af":function(t,e,r){"use strict";var n=r("23e7"),i=r("d039"),a=r("e8b5"),o=r("861d"),c=r("7b0b"),s=r("50c4"),u=r("8418"),l=r("65f0"),f=r("1dde"),d=r("b622"),h=r("2d00"),g=d("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",p=h>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),S=f("concat"),b=function(t){if(!o(t))return!1;var e=t[g];return void 0!==e?!!e:a(t)},w=!p||!S;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,r,n,i,a,o=c(this),f=l(o,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?o:arguments[e],b(a)){if(i=s(a.length),d+i>m)throw TypeError(v);for(r=0;r<i;r++,d++)r in a&&u(f,d,a[r])}else{if(d>=m)throw TypeError(v);u(f,d++,a)}return f.length=d,f}})},a640:function(t,e,r){"use strict";var n=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},a89a:function(t,e,r){"use strict";var n=r("8517"),i=r.n(n);i.a},ae40:function(t,e,r){var n=r("83ab"),i=r("d039"),a=r("5135"),o=Object.defineProperty,c={},s=function(t){throw t};t.exports=function(t,e){if(a(c,t))return c[t];e||(e={});var r=[][t],u=!!a(e,"ACCESSORS")&&e.ACCESSORS,l=a(e,0)?e[0]:s,f=a(e,1)?e[1]:void 0;return c[t]=!!r&&!i((function(){if(u&&!n)return!0;var t={length:-1};u?o(t,1,{enumerable:!0,get:s}):t[1]=1,r.call(t,l,f)}))}},b727:function(t,e,r){var n=r("0366"),i=r("44ad"),a=r("7b0b"),o=r("50c4"),c=r("65f0"),s=[].push,u=function(t){var e=1==t,r=2==t,u=3==t,l=4==t,f=6==t,d=5==t||f;return function(h,g,m,v){for(var p,S,b=a(h),w=i(b),A=n(g,m,3),T=o(w.length),k=0,D=v||c,y=e?D(h,T):r?D(h,0):void 0;T>k;k++)if((d||k in w)&&(p=w[k],S=A(p,k,b),t))if(e)y[k]=S;else if(S)switch(t){case 3:return!0;case 5:return p;case 6:return k;case 2:s.call(y,p)}else if(l)return!1;return f?-1:u||l?l:y}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6)}},e8b5:function(t,e,r){var n=r("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);