(window["webpackJsonpaaa"]=window["webpackJsonpaaa"]||[]).push([["chunk-4cb7e491"],{4727:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{ref:"leftContainer",staticClass:"left-container",on:{scroll:t.throttledScroll}},t._l(t.sections,(function(n,i){return e("div",{key:i,ref:e=>t.setSectionRef(e,i),refInFor:!0,staticClass:"section",attrs:{id:"section-"+i}},[e("h2",{staticClass:"section-title"},[t._v(t._s(n.title))]),e("div",{staticClass:"section-content"},[t._v(" "+t._s(n.content)+" ")])])})),0),e("div",{staticClass:"right-nav"},t._l(t.sections,(function(n,i){return e("div",{key:i,class:["nav-item",{active:t.currentIndex===i,visible:t.visibleSections.includes(i)}],on:{click:function(e){return t.scrollToSection(i)}}},[t._v(" "+t._s(n.title)+" ")])})),0)])},o=[];n("14d9");function r(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var s=r,c=n("5ea3"),l="object"==typeof self&&self&&self.Object===Object&&self,a=c["a"]||l||Function("return this")(),u=a,f=function(){return u.Date.now()},v=f,h=/\s/;function d(t){var e=t.length;while(e--&&h.test(t.charAt(e)));return e}var b=d,p=/^\s+/;function g(t){return t?t.slice(0,b(t)+1).replace(p,""):t}var m=g,y=u.Symbol,S=y,w=Object.prototype,x=w.hasOwnProperty,T=w.toString,j=S?S.toStringTag:void 0;function I(t){var e=x.call(t,j),n=t[j];try{t[j]=void 0;var i=!0}catch(r){}var o=T.call(t);return i&&(e?t[j]=n:delete t[j]),o}var O=I,R=Object.prototype,_=R.toString;function C(t){return _.call(t)}var k=C,E="[object Null]",P="[object Undefined]",$=S?S.toStringTag:void 0;function z(t){return null==t?void 0===t?P:E:$&&$ in Object(t)?O(t):k(t)}var N=z;function M(t){return null!=t&&"object"==typeof t}var W=M,D="[object Symbol]";function F(t){return"symbol"==typeof t||W(t)&&N(t)==D}var J=F,L=NaN,A=/^[-+]0x[0-9a-f]+$/i,H=/^0b[01]+$/i,U=/^0o[0-7]+$/i,V=parseInt;function q(t){if("number"==typeof t)return t;if(J(t))return L;if(s(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=s(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=m(t);var n=H.test(t);return n||U.test(t)?V(t.slice(2),n?2:8):A.test(t)?L:+t}var B=q,G="Expected a function",K=Math.max,Q=Math.min;function X(t,e,n){var i,o,r,c,l,a,u=0,f=!1,h=!1,d=!0;if("function"!=typeof t)throw new TypeError(G);function b(e){var n=i,r=o;return i=o=void 0,u=e,c=t.apply(r,n),c}function p(t){return u=t,l=setTimeout(y,e),f?b(t):c}function g(t){var n=t-a,i=t-u,o=e-n;return h?Q(o,r-i):o}function m(t){var n=t-a,i=t-u;return void 0===a||n>=e||n<0||h&&i>=r}function y(){var t=v();if(m(t))return S(t);l=setTimeout(y,g(t))}function S(t){return l=void 0,d&&i?b(t):(i=o=void 0,c)}function w(){void 0!==l&&clearTimeout(l),u=0,i=a=o=l=void 0}function x(){return void 0===l?c:S(v())}function T(){var t=v(),n=m(t);if(i=arguments,o=this,a=t,n){if(void 0===l)return p(a);if(h)return clearTimeout(l),l=setTimeout(y,e),b(a)}return void 0===l&&(l=setTimeout(y,e)),c}return e=B(e)||0,s(n)&&(f=!!n.leading,h="maxWait"in n,r=h?K(B(n.maxWait)||0,e):r,d="trailing"in n?!!n.trailing:d),T.cancel=w,T.flush=x,T}var Y=X,Z="Expected a function";function tt(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new TypeError(Z);return s(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Y(t,e,{leading:i,maxWait:e,trailing:o})}var et=tt,nt={name:"ScrollNav",data(){return{sections:[{title:"部分1",content:"内容1"},{title:"部分2",content:"内容2"},{title:"部分3",content:"内容3"}],currentIndex:0,visibleSections:[],sectionRefs:[],scrolling:!1,observer:null}},created(){this.throttledScroll=et(this.handleScroll,100)},mounted(){this.$nextTick(()=>{this.calculateSectionPositions(),window.addEventListener("resize",this.handleResize)})},beforeDestroy(){this.observer&&this.observer.disconnect(),window.removeEventListener("resize",this.handleResize),this.throttledScroll.cancel()},methods:{setSectionRef(t,e){t&&(this.sectionRefs[e]=t)},initIntersectionObserver(){const t={root:this.$refs.leftContainer,threshold:[0,.5,1],rootMargin:"-10% 0px -10% 0px"};this.observer=new IntersectionObserver(t=>{if(console.log(t),this.scrolling)return;const e=[];t.forEach(t=>{const n=this.sectionRefs.findIndex(e=>e===t.target);t.isIntersecting&&e.push(n)}),e.length&&(this.visibleSections=e,this.currentIndex=e[0])},t),this.sectionRefs.forEach(t=>{t&&this.observer.observe(t)})},calculateSectionPositions(){this.sectionPositions=this.sectionRefs.map(t=>({top:t.offsetTop,height:t.offsetHeight}))},handleScroll(){if(this.scrolling)return;const t=this.$refs.leftContainer,e=t.scrollTop,n=this.sectionPositions.findIndex(({top:t,height:n})=>e>=t-100&&e<t+n-100);-1!==n&&(this.currentIndex=n)},scrollToSection(t){var e;this.scrolling=!0,this.currentIndex=t,null===(e=this.sectionRefs[t])||void 0===e||e.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{this.scrolling=!1},1e3)},handleResize:et((function(){this.calculateSectionPositions()}),200)}},it=nt,ot=(n("b39f"),n("2877")),rt=Object(ot["a"])(it,i,o,!1,null,"6e821cf4",null);e["default"]=rt.exports},"5ea3":function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e["a"]=n}).call(this,n("c8ba"))},b39f:function(t,e,n){"use strict";n("b478")},b478:function(t,e,n){}}]);